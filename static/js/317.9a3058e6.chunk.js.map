{"version":3,"file":"static/js/317.9a3058e6.chunk.js","mappings":"+QACMA,EAAkB,SAAC,GAAe,IAE9BC,EAF6B,EAAZC,MAEAC,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,OAAQC,EAAf,EAAeA,QAAf,OAA6B,2BACpD,uBAAID,KACJ,uBAAIC,MAFyDF,MAKjE,OAAQ,wBACHH,KAITD,EAAgBO,aAAe,CAC7BL,MAAO,IAaT,QCsBA,EA5CoB,WAChB,OAA0BM,EAAAA,EAAAA,UAAS,CAC/BN,MAAO,GACPO,SAAS,EACTC,MAAO,OAHX,eAAOC,EAAP,KAAcC,EAAd,KAKQR,GAAOS,EAAAA,EAAAA,MAAPT,IAERU,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAW,mCAAG,2FAChBH,GAAS,SAAAI,GAAS,yBACXA,GADW,IAEdP,SAAS,OAHG,mBAMOQ,EAAAA,EAAAA,IAAgBb,GANvB,OAMNc,EANM,OAOZN,GAAS,SAAAI,GAAS,yBACXA,GADW,IAEdd,MAAOgB,EACPT,SAAS,OAVD,gDAaZG,GAAS,SAAAI,GAAS,yBACXA,GADW,IAEdP,SAAS,EACTC,MAAK,UAhBG,yDAAH,qDAoBbN,GACNW,MAEC,CAACX,IACF,IAAQF,EAA0BS,EAA1BT,MAAOQ,EAAmBC,EAAnBD,MAAOD,EAAYE,EAAZF,QAE1B,OACE,2BACGA,IAAW,sCACXC,IAAS,4CACTR,EAAMiB,OAAS,GAAI,SAAC,EAAD,CAAiBjB,MAAOA,KAAW,mD,iMClBvDkB,E,MAAWC,GAAAA,OAAa,CAC5BC,QAAS,kCAELC,EAAS,mCAEFC,EAAiB,mCAAG,2GAAOC,EAAP,+BAAc,EAAd,SAGrBL,EAASM,IAAI,qBAAsB,CAC3CC,OAAQ,CACNC,QAASL,EACTE,KAAAA,KAN2B,uBAErBI,EAFqB,EAE7BX,KAAQW,QAFqB,kBASxBA,GATwB,2CAAH,qDAYjBC,EAAY,mCAAG,WAAO1B,GAAP,yFACHgB,EAASM,IAAT,gBAAsBtB,GAAM,CACjDuB,OAAQ,CACNC,QAASL,KAHa,uBAClBL,EADkB,EAClBA,KADkB,kBAMnBA,GANmB,2CAAH,sDAqBZa,EAAY,mCAAG,WAAOC,GAAP,8FAAcP,EAAd,+BAAqB,EAArB,SACHL,EAASM,IAAI,eAAgB,CAClDC,OAAQ,CACNC,QAASL,EACTE,KAAAA,EACAO,MAAAA,KALsB,uBAClBd,EADkB,EAClBA,KADkB,kBAQnBA,GARmB,2CAAH,sDAWZe,EAAe,mCAAG,WAAO7B,GAAP,yFACNgB,EAASM,IAAT,gBAAsBtB,EAAtB,YAAoC,CACzDuB,OAAQ,CACNC,QAASL,KAHgB,uBACrBL,EADqB,EACrBA,KADqB,kBAMtBA,EAAKgB,MANiB,2CAAH,sDASfjB,EAAe,mCAAG,WAAOb,GAAP,yFACNgB,EAASM,IAAT,gBAAsBtB,EAAtB,YAAoC,CACzDuB,OAAQ,CACNC,QAASL,KAHgB,uBACrBL,EADqB,EACrBA,KADqB,kBAMtBA,EAAKW,SANiB,2CAAH","sources":["pages/ReviewsPage/ReviewsPageItem/ReviewsPageItem.jsx","pages/ReviewsPage/ReviewsPage.jsx","shared/api/movies.js"],"sourcesContent":["import PropTypes from \"prop-types\";\nconst ReviewsPageItem = ({ items }) => {\n\n    const elements = items.map(({ id, author, content }) => <li key={id}>\n        <p>{author}</p>\n        <p>{content}</p>\n    </li>);\n\n    return (<ul>\n        {elements}\n        </ul>)\n}\n\nReviewsPageItem.defaultProps = {\n  items: [],\n};\n\nReviewsPageItem.propTypes = {\n    items: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.string.isRequired,\n            author: PropTypes.string.isRequired,\n            content: PropTypes.string.isRequired,\n        })\n    )\n};\n\nexport default ReviewsPageItem;","import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { getMovieReviews } from \"shared/api/movies\";\nimport ReviewsPageItem from './ReviewsPageItem';\n\nconst ReviewsPage = () => {\n    const [state, setState] = useState({\n        items: [],\n        loading: false,\n        error: null,\n    })\n    const { id } = useParams();\n    \n    useEffect(() => {\n        const fetchMovies = async () => {\n            setState(prevState => ({\n                ...prevState,\n                loading: true,\n            }));\n            try {\n                const data = await getMovieReviews(id);\n                setState(prevState => ({\n                    ...prevState,\n                    items: data,\n                    loading: false,\n                }))\n            } catch (error) {\n                setState(prevState => ({\n                    ...prevState,\n                    loading: false,\n                    error,\n                }))\n            }\n        }\n        if (id) {\n      fetchMovies();\n    }\n    }, [id]);\n      const { items, error, loading } = state;\n\n  return (\n    <div>\n      {loading && <p>...Loading</p>}\n      {error && <p>Movies not found</p>}\n      {items.length > 0 ? <ReviewsPageItem items={items}/> : <p>Reviews not found </p>}\n    </div>\n  );\n}\n\nexport default ReviewsPage;","import axios from \"axios\";\n\n// const API_KEY = '3dd73bc5602d72433e8418bc312e6ea9';\n// const BASE_URL = `https://api.themoviedb.org/3/trending/all/day?api_key=${API_KEY}`;\n\n// export const getMovies = async () => await axios.get(BASE_URL);\n\n// const API_KEY = '3dd73bc5602d72433e8418bc312e6ea9';\n// const instance = axios.create({\n//     baseURL: 'https://api.themoviedb.org/3',\n// });\n\n\n\n// export const getMovies = async (page) => {\n//     const { data: {results} } = await instance.get(\"trending/movie/day\", {\n//         params: {\n//             api_key: API_KEY,\n//             page\n//         }\n//     });\n//     return results;\n// } \n\n// export default getMovies;\n\nconst instance = axios.create({\n  baseURL: \"https://api.themoviedb.org/3/\",\n});\nconst APIkey = \"3dd73bc5602d72433e8418bc312e6ea9\";\n\nexport const getTrendingMovies = async (page = 1) => {\n  const {\n    data: { results },\n  } = await instance.get(\"trending/movie/day\", {\n    params: {\n      api_key: APIkey,\n      page,\n    },\n  });\n  return results;\n};\n\nexport const getMovieById = async (id) => {\n  const { data } = await instance.get(`movie/${id}`, {\n    params: {\n      api_key: APIkey,\n    },\n  });\n  return data;\n};\n\n// export const searchMovies = async (q) => {\n//   const {\n//     data: { results },\n//   } = await instance.get(\"search/movie\", {\n//     params: {\n//       api_key: APIkey,\n//       q\n//     },\n//   });\n//   return results;\n// };\n\nexport const searchMovies = async (query, page = 1) => {\n  const { data } = await instance.get(\"search/movie\", {\n    params: {\n      api_key: APIkey,\n      page,\n      query,\n    },\n  });\n  return data;\n};\n\nexport const getMovieCredits = async (id) => {\n  const { data } = await instance.get(`movie/${id}/credits`, {\n    params: {\n      api_key: APIkey,\n    },\n  });\n  return data.cast;\n};\n\nexport const getMovieReviews = async (id) => {\n  const { data } = await instance.get(`movie/${id}/reviews`, {\n    params: {\n      api_key: APIkey,\n    },\n  });\n  return data.results;\n};\n"],"names":["ReviewsPageItem","elements","items","map","id","author","content","defaultProps","useState","loading","error","state","setState","useParams","useEffect","fetchMovies","prevState","getMovieReviews","data","length","instance","axios","baseURL","APIkey","getTrendingMovies","page","get","params","api_key","results","getMovieById","searchMovies","query","getMovieCredits","cast"],"sourceRoot":""}